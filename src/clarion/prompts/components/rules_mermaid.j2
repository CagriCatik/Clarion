MERMAID DIAGRAM RULES (STRICT SYNTAX ENFORCEMENT):

1. **IDs (Nodes)**:
   - IDs must be alphanumeric or underscores ONLY (e.g., `Node_A`, `Step_1`).
   - IDs must NOT start with a digit. If needed, prepend an underscore (e.g., `_1_Start`).
   - IDs must NOT contain spaces or special characters.
   - **FORBIDDEN IDs**: Do NOT use reserved keywords like `end`, `start`, `subgraph`, `class`, `style`. Use `Process_End`, `Start_Node` instead.

2. **Labels (Text Displayed)**:
   - ALL labels (Nodes, Edges) containing spaces or special characters MUST be wrapped in double quotes.
   - Inner double quotes must be escaped: `"` -> `\"`.
   - Newlines in labels should be replaced with space or `<br>`.

3. **Edges (Connections)**:
   - **CRITICAL**: Use the string syntax `A -- "Label" --> B`.
   - **Dotted with Label**: `A -. "Label" .-> B` (Label MUST be between the dots).
   - **Thick with Label**: `A == "Label" ==> B` (Label MUST be between the equals).
   - **Unlabeled**: `A --> B`, `A -.-> B`, `A ==> B`.
   - **FORBIDDEN**: Do NOT use the pipe syntax `|Label|`. It causes parse errors.
   - ❌ BAD: `A -.-> "Label" B` or `A -->|Text| B`
   - ✅ GOOD: `A -. "Label" .-> B`
   - NEVER mix pipes and arrows.

4. **Shapes & Node Labels**:
   - ALL nodes must have an alphanumeric ID. You cannot use a quoted string as an ID.
   - Rect: `ID["Text"]`
   - Round: `ID("Text")`
   - Database: `ID[("Text")]`
   - Subroutine: `ID[["Text"]]`
   - Rhombus: `ID{"Text"}`
   - Asymmetric: `ID>"Text"]`
   - Hexagon: `ID{{ "Text" }}`
   - Parallelogram: `ID[/"Text"/]`
   - Trapezoid: `ID[/"Text"\]`
   - **CRITICAL**: Never write `A --> "Label"`. Always use `A --> B["Label"]`.

Start diagrams with `graph TD` or `sequenceDiagram`.
